export const CONNECTION_TYPE_BUFFER_SIZES = {
    "4g": 0.5,
    "3g": 1.0,
    "2g": 2.0,
    "slow-2g": 3.0,
    wifi: 0.3,
    ethernet: 0.2,
    unknown: 0.8,
} as const;

export const FADE_CURVES = {
    LINEAR: "linear",
    EXPONENTIAL: "exponential",
    LOGARITHMIC: "logarithmic",
    SINUSOIDAL: "sinusoidal",
} as const;

export const BUFFER_ADAPTATION = {
    UNDERRUN_THRESHOLD: 3,
    OVERRUN_THRESHOLD: 3,
    STABLE_THRESHOLD: 10_000,
    ADAPTATION_RATE: 0.2,
} as const;

export const CONFIG_PRESETS = {
    moshi: {
        initialBufferSamples: 4800,
        partialBufferSamples: 600,
        maxBufferSamples: 600,
        partialBufferIncrement: 300,
        maxBufferSamplesIncrement: 300,
        maxPartialWithIncrements: 2400,
        maxMaxBufferWithIncrements: 2400,
        smoothingFactor: 0.85,
        fadeInSamples: 128,
        fadeOutSamples: 128,
        debugMode: false,
        adaptiveBuffering: true,
        fadeCurve: "sinusoidal",
        frameProcessingBudgetMs: 5,
        underrunRecoveryStrategy: "fast",
        outOfOrderFrameHandling: true,
        prioritizeLatency: true,
        preventMemoryLeaks: true,
        performanceMode: "balanced",
        maxFramesInMemory: 200,
        jitterBufferMode: "adaptive",
    },
    elevenLabs: {
        initialBufferSamples: 9600,
        partialBufferSamples: 1200,
        maxBufferSamples: 1200,
        partialBufferIncrement: 600,
        maxBufferSamplesIncrement: 600,
        maxPartialWithIncrements: 4800,
        maxMaxBufferWithIncrements: 4800,
        smoothingFactor: 0.9,
        fadeInSamples: 256,
        fadeOutSamples: 256,
        debugMode: false,
        adaptiveBuffering: true,
        fadeCurve: "exponential",
        frameProcessingBudgetMs: 8,
        underrunRecoveryStrategy: "quality",
        outOfOrderFrameHandling: true,
        prioritizeLatency: false,
        preventMemoryLeaks: true,
        performanceMode: "quality",
        maxFramesInMemory: 400,
        jitterBufferMode: "adaptive",
    },
    lowBandwidth: {
        initialBufferSamples: 14400,
        partialBufferSamples: 2400,
        maxBufferSamples: 4800,
        partialBufferIncrement: 1200,
        maxBufferSamplesIncrement: 1200,
        maxPartialWithIncrements: 9600,
        maxMaxBufferWithIncrements: 19200,
        smoothingFactor: 0.95,
        fadeInSamples: 512,
        fadeOutSamples: 512,
        debugMode: false,
        adaptiveBuffering: true,
        fadeCurve: "logarithmic",
        frameProcessingBudgetMs: 10,
        underrunRecoveryStrategy: "conservative",
        outOfOrderFrameHandling: true,
        prioritizeLatency: false,
        preventMemoryLeaks: true,
        performanceMode: "reliability",
        maxFramesInMemory: 800,
        jitterBufferMode: "conservative",
    },
} as const;

export const MESSAGE_TYPES = {
    RESET: "reset",
    CONFIG: "config",
    AUDIO_FRAME: "audioFrame",
    STATS: "stats",
    DEBUG: "debug",
    ERROR: "error",
    NETWORK_STATUS: "networkStatus",
    READY: "ready",
    UNDERRUN: "underrun",
    OVERRUN: "overrun",
    BUFFER_ADJUSTMENT: "bufferAdjustment",
    CONNECTION_TYPE: "connectionType",
    MEMORY_WARNING: "memoryWarning",
    CODEC_CHANGE: "codecChange",
} as const;
